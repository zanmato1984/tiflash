# Work in Progress
- MS6B: implement sort operator (common path: single key, asc, nulls last) + unit tests.

# To Do
- MS6A: implement hash join operator (common path: inner join, single int32 key) + unit tests + TiFlash translation smoke (guarded by `TIFLASH_ENABLE_TIFORTH`).

# Completed
- MS6 design: hash join + sort plan (minimal single-input join form; blocking sort; initial test strategy). Files: docs/design/2026-01-14-tiforth-milestone-6-join-sort.md, .codex/progress/daemon.md.
- MS5B: TiFlash gtest translating a TiFlash DAG with hash agg into a TiForth pipeline (dummy agg op -> TiForth `HashAggTransformOp` with hardcoded config/expected); validates multi-batch output. Guarded by `TIFLASH_ENABLE_TIFORTH`. Validation: `ninja -C cmake-build-tiflash-tiforth-debug gtests_dbms` + `gtests_dbms --gtest_filter=TiForthPipelineTranslateTest.*` OK. Files: dbms/src/Flash/tests/gtest_tiforth_pipeline_translate.cpp, .codex/progress/daemon.md.
- MS5A: add `HashAggTransformOp` (blocking end-of-stream output; MS5 common path: single int32 key; `count_all` + `sum_int32`; deterministic group order) + `tiforth_hash_agg_test`. Validation: `ninja -C libs/tiforth/build-debug` + `ctest --test-dir libs/tiforth/build-debug`; `ninja -C cmake-build-tiflash-tiforth-debug gtests_dbms` + `gtests_dbms --gtest_filter=TiForthPipelineTranslateTest.*` OK. Files: libs/tiforth/include/tiforth/{tiforth.h,operators/hash_agg.h}, libs/tiforth/src/tiforth/{CMakeLists.txt,operators/hash_agg.cc}, libs/tiforth/tests/{CMakeLists.txt,tiforth_hash_agg_test.cpp}, .codex/progress/daemon.md.
- MS5 design: hash aggregation plan (blocking op; single int32 key; `count_all` + `sum_int32`; deterministic output order; tests). Files: docs/design/2026-01-14-tiforth-milestone-5-hash-aggregation.md, .codex/progress/daemon.md.
- MS4B: TiFlash gtest translating a TiFlash DAG with filter into a TiForth pipeline (dummy filter op -> TiForth `FilterTransformOp` with hardcoded predicate `x > 1`); validate filtered Arrow output. Guarded by `TIFLASH_ENABLE_TIFORTH`. Validation: `ninja -C cmake-build-tiflash-tiforth-debug gtests_dbms` + `gtests_dbms --gtest_filter=TiForthPipelineTranslateTest.*` OK. Files: dbms/src/Flash/tests/gtest_tiforth_pipeline_translate.cpp, .codex/progress/daemon.md.
- MS4A: add `FilterTransformOp` (SQL WHERE: keep TRUE; drop FALSE/NULL) using Arrow compute `Filter` + cached output schema; refactor Arrow compute init into `tiforth::detail::EnsureArrowComputeInitialized()` (shared by Expr eval and operators); add `tiforth_filter_test`. Validation: `ninja -C libs/tiforth/build-debug` + `ctest --test-dir libs/tiforth/build-debug`; `ninja -C cmake-build-tiflash-tiforth-debug gtests_dbms` + `gtests_dbms --gtest_filter=TiForthPipelineTranslateTest.*` OK. Files: libs/tiforth/include/tiforth/{tiforth.h,detail/arrow_compute.h,operators/filter.h}, libs/tiforth/src/tiforth/{CMakeLists.txt,expr.cc,detail/arrow_compute.cc,operators/filter.cc}, libs/tiforth/tests/{CMakeLists.txt,tiforth_filter_test.cpp}, .codex/progress/daemon.md.
- MS4 design: Filter + predicate evaluation plan (SQL WHERE semantics via Arrow compute filter; minimal boolean/comparison kernels; initial differential testing plan). Files: docs/design/2026-01-14-tiforth-milestone-4-filter-expression-evaluation.md, .codex/progress/daemon.md.
- MS2-MS3 foundation: Arrow boundary + build/integration (always require ArrowCompute; simplify gtest discovery; add consumer examples matrix; remove in-tree Arrow; TiFlash option `ENABLE_TIFORTH` + macro guard `TIFLASH_ENABLE_TIFORTH`). Files: libs/tiforth/CMakeLists.txt, libs/tiforth/cmake/find/*, libs/tiforth/examples/*, top-level CMakeLists.txt and dbms CMakeLists/tests.
- MS3 pipeline + compute: TiFlash-shaped pipeline exec in TiForth (Task push/pull, PipelineBuilder/PipelineExec, PassThroughTransformOp; TiFlash DAGâ†’TiForth translation gtest) + first compute operator set (Expr IR + ProjectionTransformOp + unit test). Files: docs/design/2026-01-14-tiforth-milestone-2-recordbatch-plumbing.md, docs/design/2026-01-14-tiforth-milestone-3-pipeline-framework.md, docs/design/2026-01-14-tiforth-milestone-3-projection-scalar-functions.md, libs/tiforth/include/tiforth/*, libs/tiforth/src/tiforth/*, dbms/src/Flash/tests/gtest_tiforth_*.cpp, .codex/progress/daemon.md.
