# Work in Progress
- MS8B: TiFlash (guarded): add TiFlash `IDataType` -> Arrow `Field` mapping + basic column-to-Arrow builders for Decimal / MyDate(MyDateTime) / String (collation id).

# To Do
- MS8D: TiForth: extend hash join/hash agg/sort key handling to support `uint64`, `decimal128/256`, and binary strings (with collation metadata) on the common path.
- MS8E: TiFlash gtest (guarded): build a Block with decimal + mydatetime + collated strings; convert to Arrow via MS8B and run TiForth pipeline ops to validate behavior.

# Completed
- MS2-6: TiForth pipeline framework + common-path operators (Projection/Filter/HashAgg/Sort/HashJoin) + TiFlash translation gtests. Key decisions: Arrow `RecordBatch` boundary, host-driven task stepping, EOS=`nullptr`, Arrow compute delegation where semantics match. Files: libs/tiforth/include/tiforth/*, libs/tiforth/src/tiforth/*, docs/design/2026-01-14-tiforth-milestone-{1,2,3,4,5,6}-*.md, dbms/src/Flash/tests/gtest_tiforth_pipeline_translate.cpp, .codex/progress/daemon.md.
- MS7: host integration hardening (Engine memory pool plumbing, spill hook skeleton, C ABI header + buildable `tiforth_capi` stubs). Key decisions: `EngineOptions.memory_pool` non-null; default `DenySpillManager`; C ABI versioned and forward-extensible; early `tiforth_capi` returns NOT_IMPLEMENTED but links. Files: libs/tiforth/include/tiforth/{engine.h,spill.h}, libs/tiforth/include/tiforth_c/tiforth.h, libs/tiforth/src/tiforth/{engine.cc}, libs/tiforth/src/tiforth_capi/*, libs/tiforth/tests/*, docs/design/2026-01-14-tiforth-milestone-7-memory-pool-spill-abi.md, .codex/progress/daemon.md.
- MS8 (partial): type mapping contract + TiForth metadata helpers + collation-aware string predicate compare (BINARY + padding BIN). Key decisions: use Arrow field metadata keys (no Arrow ExtensionType yet); treat strings as `binary` + `collation_id`; implement compare hook for `equal/less/greater` to avoid Arrow kernel collation mismatch. Files: docs/design/2026-01-14-tiforth-milestone-8-type-mapping.md, libs/tiforth/include/tiforth/{type_metadata.h,collation.h}, libs/tiforth/src/tiforth/{type_metadata.cc,collation.cc,expr.cc}, libs/tiforth/tests/{tiforth_type_metadata_test.cpp,tiforth_collation_compare_test.cpp}, docs/design/2026-01-14-tiforth.md, .codex/progress/daemon.md. Notes: next add TiFlash `IDataType`->Arrow conversion + extend join/agg/sort keys.
